/**
 * =====================================================
 * FINANZAPRO - Sistema de Internacionalizaci√≥n (i18n)
 * =====================================================
 * Soporte para Espa√±ol, English y Portugu√™s
 */

const translations = {
    es: {
        // ---- Nav & Layout ----
        nav: {
            dashboard: 'Dashboard',
            dashboardShort: 'Inicio',
            transactions: 'Transacciones',
            transactionsShort: 'Transac.',
            budgets: 'Presupuestos',
            budgetsShort: 'Presup.',
            categories: 'Categor√≠as',
            categoriesShort: 'Categ.',
            goals: 'Metas',
            goalsShort: 'Metas',
            reports: 'Informes',
            reportsShort: 'Informes',
            profile: 'Perfil',
            profileShort: 'Perfil',
            newTransaction: 'Nueva Transacci√≥n',
            logout: 'Cerrar Sesi√≥n',
            logoutConfirm: '¬øSeguro que quieres cerrar sesi√≥n?',
            logoutDesc: 'Se cerrar√° tu sesi√≥n actual.',
            cancel: 'Cancelar',
            confirm: 'Confirmar',
            more: 'M√°s',
            menu: 'Men√∫',
        },
        // ---- Common ----
        common: {
            save: 'Guardar',
            cancel: 'Cancelar',
            delete: 'Eliminar',
            edit: 'Editar',
            create: 'Crear',
            close: 'Cerrar',
            confirm: 'Confirmar',
            loading: 'Cargando...',
            search: 'Buscar...',
            noResults: 'Sin resultados',
            all: 'Todos',
            income: 'Ingreso',
            expense: 'Gasto',
            amount: 'Monto',
            date: 'Fecha',
            description: 'Descripci√≥n',
            category: 'Categor√≠a',
            name: 'Nombre',
            type: 'Tipo',
            actions: 'Acciones',
            back: 'Volver',
            next: 'Siguiente',
            yes: 'S√≠',
            no: 'No',
            of: 'de',
            month: 'Mes',
            year: 'A√±o',
            today: 'Hoy',
            yesterday: 'Ayer',
            online: 'En l√≠nea',
            offline: 'Sin conexi√≥n',
        },
        // ---- Login ----
        login: {
            title: 'Bienvenido a FinanzaPro',
            subtitle: 'Gestiona tus finanzas de forma inteligente',
            email: 'Correo electr√≥nico',
            password: 'Contrase√±a',
            loginBtn: 'Iniciar Sesi√≥n',
            registerBtn: 'Crear Cuenta',
            loginTab: 'Iniciar Sesi√≥n',
            registerTab: 'Registrarse',
            forgotPassword: '¬øOlvidaste tu contrase√±a?',
            orContinueWith: 'O contin√∫a con',
            google: 'Google',
            fullName: 'Nombre completo',
            confirmPassword: 'Confirmar contrase√±a',
            passwordStrength: 'Fortaleza de la contrase√±a',
            weak: 'D√©bil',
            medium: 'Media',
            strong: 'Fuerte',
            termsAgree: 'Al registrarte, aceptas nuestros',
            terms: 'T√©rminos de Servicio',
            and: 'y',
            privacy: 'Pol√≠tica de Privacidad',
            error: {
                invalidEmail: 'Correo electr√≥nico no v√°lido',
                shortPassword: 'La contrase√±a debe tener al menos 6 caracteres',
                passwordMismatch: 'Las contrase√±as no coinciden',
                generic: 'Error al iniciar sesi√≥n. Verifica tus credenciales.',
                registerFailed: 'Error al registrar. Int√©ntalo de nuevo.',
            },
            feature1: 'Control total de finanzas',
            feature2: 'Presupuestos inteligentes',
            feature3: 'Reportes detallados',
            feature1Desc: 'Registra ingresos y gastos con facilidad',
            feature2Desc: 'Establece l√≠mites y alcanza tus metas',
            feature3Desc: 'Visualiza tus tendencias financieras',
        },
        // ---- Dashboard ----
        dashboard: {
            greeting: {
                morning: 'Buenos d√≠as',
                afternoon: 'Buenas tardes',
                evening: 'Buenas noches',
            },
            balance: 'Balance del mes',
            income: 'Ingresos',
            expenses: 'Gastos',
            savings: 'Ahorro',
            savingsRate: 'Tasa de ahorro',
            positive: 'Positivo',
            negative: 'Negativo',
            recentTransactions: 'Transacciones recientes',
            topCategories: 'Categor√≠as principales',
            quickActions: 'Acciones r√°pidas',
            addIncome: 'Agregar Ingreso',
            addExpense: 'Agregar Gasto',
            viewAll: 'Ver todo',
            noTransactions: 'No hay transacciones este mes',
            startTracking: 'Comienza a registrar tus movimientos',
            newTransaction: 'Nueva Transacci√≥n',
            insight: 'Insight Financiero',
            financialTip: 'Consejo Financiero',
            summary: {
                balanceMonth: 'Balance del mes',
                income: 'Ingresos',
                expenses: 'Gastos',
            },
            stats: {
                transactions: 'Transacciones',
                savingsRate: 'Tasa ahorro',
                categories: 'Categor√≠as',
                avgExpense: 'Gasto promedio',
            },
            charts: {
                expensesByCategory: 'Gastos por categor√≠a',
                thisMonth: 'Este mes',
                recentTransactions: '√öltimas transacciones',
                viewAll: 'Ver todas',
                noExpenses: 'No hay gastos este mes',
                noTransactions: 'No hay transacciones a√∫n',
                addFirst: 'Agregar primera transacci√≥n',
                transaction: 'Transacci√≥n',
            },
            quickActions: {
                expense: 'Gasto',
                income: 'Ingreso',
                budget: 'Presupuesto',
                categories: 'Categor√≠as',
            },
        },
        // ---- Transactions ----
        transactions: {
            title: 'Transacciones',
            registered: 'transacciones registradas',
            filterByType: 'Filtrar por tipo',
            filterByCategory: 'Filtrar por categor√≠a',
            allCategories: 'Todas las categor√≠as',
            allTypes: 'Todos los tipos',
            searchPlaceholder: 'Buscar transacciones...',
            noTransactions: 'No hay transacciones',
            noTransactionsDesc: 'Comienza registrando tu primera transacci√≥n',
            addFirst: 'Agregar primera transacci√≥n',
            recurring: 'Recurrente',
            once: '√önica vez',
        },
        // ---- New Transaction ----
        newTransaction: {
            titleNew: 'Nueva Transacci√≥n',
            titleEdit: 'Editar Transacci√≥n',
            type: 'Tipo de transacci√≥n',
            expense: 'Gasto',
            income: 'Ingreso',
            amount: 'Monto',
            amountPlaceholder: '0.00',
            category: 'Categor√≠a',
            selectCategory: 'Seleccionar categor√≠a',
            date: 'Fecha',
            description: 'Descripci√≥n',
            descriptionPlaceholder: '¬øEn qu√© gastaste?',
            notes: 'Notas (opcional)',
            notesPlaceholder: 'Detalles adicionales...',
            attachment: 'Adjuntar archivo',
            attachmentHint: 'Recibo, factura, etc. (m√°x. 5MB)',
            recurring: 'Transacci√≥n recurrente',
            recurringFreq: 'Frecuencia',
            weekly: 'Semanal',
            monthly: 'Mensual',
            none: 'No repetir',
            save: 'Guardar Transacci√≥n',
            saving: 'Guardando...',
            successCreate: 'Transacci√≥n creada exitosamente',
            successEdit: 'Transacci√≥n actualizada exitosamente',
            errorRequired: 'Completa todos los campos requeridos',
        },
        // ---- Budgets ----
        budgets: {
            title: 'Presupuestos',
            monthlyBudget: 'Presupuesto Mensual',
            budgeted: 'Presupuestado',
            spent: 'Gastado',
            available: 'Disponible',
            newBudget: 'Nuevo Presupuesto',
            category: 'Categor√≠a',
            budgetAmount: 'Monto del presupuesto',
            save: 'Guardar Presupuesto',
            noBudgets: 'No hay presupuestos configurados',
            noBudgetsDesc: 'Crea un presupuesto para controlar tus gastos por categor√≠a',
            createFirst: 'Crear primer presupuesto',
            overBudget: 'Excedido',
            onTrack: 'En control',
            warning: 'Atenci√≥n',
        },
        // ---- Categories ----
        categories: {
            title: 'Categor√≠as',
            subtitle: 'Gestiona tus categor√≠as de gastos e ingresos',
            expenseCategories: 'Categor√≠as de Gastos',
            incomeCategories: 'Categor√≠as de Ingresos',
            newCategory: 'Nueva Categor√≠a',
            editCategory: 'Editar Categor√≠a',
            name: 'Nombre de la categor√≠a',
            icon: 'Icono',
            color: 'Color',
            save: 'Guardar',
            delete: 'Eliminar categor√≠a',
            deleteConfirm: '¬øSeguro que quieres eliminar esta categor√≠a?',
            noCategories: 'No hay categor√≠as personalizadas',
            noCategoriesDesc: 'Crea categor√≠as para organizar tus transacciones',
        },
        // ---- Goals ----
        goals: {
            title: 'Metas Financieras',
            subtitle: 'Alcanza tus objetivos de ahorro',
            newGoal: 'Nueva Meta',
            editGoal: 'Editar Meta',
            name: 'Nombre de la meta',
            namePlaceholder: 'Ej: Vacaciones, Fondo de emergencia...',
            targetAmount: 'Monto objetivo',
            currentAmount: 'Monto actual',
            deadline: 'Fecha l√≠mite',
            icon: 'Icono',
            color: 'Color',
            save: 'Guardar Meta',
            delete: 'Eliminar meta',
            deleteConfirm: '¬øSeguro que quieres eliminar esta meta?',
            noGoals: 'No hay metas configuradas',
            noGoalsDesc: 'Establece metas financieras para motivar tu ahorro',
            createFirst: 'Crear primera meta',
            progress: 'Progreso',
            remaining: 'Faltan',
            daysLeft: 'd√≠as restantes',
            completed: '¬°Meta alcanzada! üéâ',
            addMoney: 'Agregar fondos',
            addAmount: 'Monto a agregar',
            onTrack: 'En camino',
            behindSchedule: 'Atrasada',
            achieved: 'Lograda',
        },
        // ---- Reports ----
        reports: {
            title: 'Informes',
            subtitle: 'Analiza tus tendencias financieras',
            monthlyComparison: 'Comparaci√≥n Mensual',
            currentMonth: 'Este mes',
            previousMonth: 'Mes anterior',
            income: 'Ingresos',
            expenses: 'Gastos',
            balance: 'Balance',
            vsLastMonth: 'vs. mes anterior',
            spendingTrend: 'Tendencia de Gastos',
            last6Months: '√öltimos 6 meses',
            currencyConverter: 'Conversor de Divisas',
            from: 'De',
            to: 'A',
            convert: 'Convertir',
            result: 'Resultado',
            exportData: 'Exportar Datos',
            exportCSV: 'Exportar CSV',
            exportDesc: 'Descarga tus transacciones en formato CSV',
            savingsCalc: 'Calculadora de Ahorro',
            initialAmount: 'Monto inicial',
            monthlyContribution: 'Aporte mensual',
            annualRate: 'Tasa anual (%)',
            years: 'A√±os',
            calculate: 'Calcular',
            futureValue: 'Valor futuro',
            totalContributed: 'Total aportado',
            totalInterest: 'Intereses ganados',
        },
        // ---- Profile ----
        profile: {
            title: 'Perfil',
            personalInfo: 'Informaci√≥n Personal',
            editProfile: 'Editar perfil',
            editName: 'Nombre',
            editNamePlaceholder: 'Tu nombre',
            accountActive: 'Cuenta activa',
            appearance: 'Apariencia',
            darkMode: 'Tema oscuro',
            darkModeDesc: 'Cambiar apariencia de la app',
            language: 'Idioma',
            preferences: 'Preferencias',
            currency: 'Moneda',
            currencyDesc: 'Moneda por defecto',
            notifications: 'Notificaciones',
            notifDesc: 'Alertas y recordatorios',
            notifOn: 'Notificaciones activadas',
            notifOff: 'Notificaciones desactivadas',
            reminders: 'Recordatorios',
            remindersDesc: 'Alertas de presupuesto',
            remindersOn: 'Recordatorios activados',
            remindersOff: 'Recordatorios desactivados',
            currencyUpdated: 'Moneda actualizada',
            dataManagement: 'Datos',
            exportData: 'Exportar datos',
            exportDesc: 'Descargar en formato JSON',
            syncNow: 'Sincronizar ahora',
            syncDesc: 'Actualizar con la nube',
            clearCache: 'Limpiar cach√©',
            clearCacheDesc: 'Liberar espacio local',
            clearCacheConfirm: '¬øEst√°s seguro? Esto eliminar√° todos los datos guardados localmente y recargar√° la p√°gina.',
            about: 'Acerca de',
            version: 'Versi√≥n',
            developer: 'Desarrollador',
            madeWith: 'Hecho con ‚ù§Ô∏è en Espa√±a',
            logout: 'Cerrar Sesi√≥n',
            logoutConfirm: '¬øCerrar sesi√≥n?',
            logoutDesc: 'Podr√°s volver a iniciar sesi√≥n en cualquier momento',
            deleteAccount: 'Eliminar cuenta',
            deleteAccountDesc: 'Esta acci√≥n no se puede deshacer',
            deleteAccountConfirm: '¬øEliminar tu cuenta?',
            deleteAccountWarning: 'Se eliminar√°n permanentemente todos tus datos: transacciones, categor√≠as, presupuestos, metas.',
            deleteAccountTyping: 'Escribe ELIMINAR para confirmar',
            deleteAccountPlaceholder: 'ELIMINAR',
            deleteAccountKeyword: 'ELIMINAR',
            deleting: 'Eliminando cuenta...',
            profileUpdated: 'Perfil actualizado',
            profileError: 'Error al actualizar perfil',
            exportSuccess: 'Datos exportados correctamente',
            exportError: 'Error al exportar los datos',
            syncSuccess: 'Sincronizaci√≥n completada',
            syncError: 'Error al sincronizar',
            cacheSuccess: 'Cach√© limpiado. Recargando...',
            cacheError: 'Error al limpiar cach√©',
        },
        // ---- Months ----
        months: [
            'Enero', 'Febrero', 'Marzo', 'Abril', 'Mayo', 'Junio',
            'Julio', 'Agosto', 'Septiembre', 'Octubre', 'Noviembre', 'Diciembre'
        ],
        // ---- 404 ----
        notFound: {
            title: 'P√°gina no encontrada',
            message: 'La p√°gina que buscas no existe',
            backHome: 'Volver al inicio',
        },
        // ---- Toasts ----
        toast: {
            saved: 'Guardado exitosamente',
            deleted: 'Eliminado exitosamente',
            error: 'Ha ocurrido un error',
            copied: 'Copiado al portapapeles',
            syncComplete: 'Sincronizaci√≥n completada',
            syncError: 'Error al sincronizar',
            cacheCleared: 'Cach√© limpiado. Recargando...',
            exported: 'Datos exportados',
            goalAdded: 'Fondos agregados a la meta',
        },
        // ---- Financial Insights ----
        insights: {
            savingWell: '¬°Excelente! Est√°s ahorrando un {pct}% de tus ingresos este mes.',
            spendingHigh: 'Cuidado: has gastado un {pct}% de tus ingresos. Intenta reducir gastos.',
            noIncome: 'A√∫n no has registrado ingresos este mes.',
            topCategory: 'Tu mayor gasto es en "{cat}" con {amount}.',
            underBudget: '¬°Bien hecho! Est√°s por debajo de tu presupuesto en {count} categor√≠as.',
            overBudget: 'Has excedido el presupuesto en {count} categor√≠as. Revisa tus gastos.',
            goalClose: '¬°Casi lo logras! Te faltan {amount} para tu meta "{name}".',
            keepItUp: '¬°Sigue as√≠! Llevas un buen ritmo de ahorro.',
        },
    },

    en: {
        nav: {
            dashboard: 'Dashboard',
            dashboardShort: 'Home',
            transactions: 'Transactions',
            transactionsShort: 'Trans.',
            budgets: 'Budgets',
            budgetsShort: 'Budgets',
            categories: 'Categories',
            categoriesShort: 'Cats.',
            goals: 'Goals',
            goalsShort: 'Goals',
            reports: 'Reports',
            reportsShort: 'Reports',
            profile: 'Profile',
            profileShort: 'Profile',
            newTransaction: 'New Transaction',
            logout: 'Log Out',
            logoutConfirm: 'Are you sure you want to log out?',
            logoutDesc: 'Your current session will be closed.',
            cancel: 'Cancel',
            confirm: 'Confirm',
            more: 'More',
            menu: 'Menu',
        },
        common: {
            save: 'Save',
            cancel: 'Cancel',
            delete: 'Delete',
            edit: 'Edit',
            create: 'Create',
            close: 'Close',
            confirm: 'Confirm',
            loading: 'Loading...',
            search: 'Search...',
            noResults: 'No results',
            all: 'All',
            income: 'Income',
            expense: 'Expense',
            amount: 'Amount',
            date: 'Date',
            description: 'Description',
            category: 'Category',
            name: 'Name',
            type: 'Type',
            actions: 'Actions',
            back: 'Back',
            next: 'Next',
            yes: 'Yes',
            no: 'No',
            of: 'of',
            month: 'Month',
            year: 'Year',
            today: 'Today',
            yesterday: 'Yesterday',
            online: 'Online',
            offline: 'Offline',
        },
        login: {
            title: 'Welcome to FinanzaPro',
            subtitle: 'Manage your finances smartly',
            email: 'Email',
            password: 'Password',
            loginBtn: 'Sign In',
            registerBtn: 'Create Account',
            loginTab: 'Sign In',
            registerTab: 'Sign Up',
            forgotPassword: 'Forgot your password?',
            orContinueWith: 'Or continue with',
            google: 'Google',
            fullName: 'Full name',
            confirmPassword: 'Confirm password',
            passwordStrength: 'Password strength',
            weak: 'Weak',
            medium: 'Medium',
            strong: 'Strong',
            termsAgree: 'By signing up, you agree to our',
            terms: 'Terms of Service',
            and: 'and',
            privacy: 'Privacy Policy',
            error: {
                invalidEmail: 'Invalid email address',
                shortPassword: 'Password must be at least 6 characters',
                passwordMismatch: 'Passwords do not match',
                generic: 'Login failed. Check your credentials.',
                registerFailed: 'Registration failed. Try again.',
            },
            feature1: 'Full financial control',
            feature2: 'Smart budgets',
            feature3: 'Detailed reports',
            feature1Desc: 'Track income and expenses easily',
            feature2Desc: 'Set limits and reach your goals',
            feature3Desc: 'Visualize your financial trends',
        },
        dashboard: {
            greeting: {
                morning: 'Good morning',
                afternoon: 'Good afternoon',
                evening: 'Good evening',
            },
            balance: 'Monthly balance',
            income: 'Income',
            expenses: 'Expenses',
            savings: 'Savings',
            savingsRate: 'Savings rate',
            positive: 'Positive',
            negative: 'Negative',
            recentTransactions: 'Recent transactions',
            topCategories: 'Top categories',
            quickActions: 'Quick actions',
            addIncome: 'Add Income',
            addExpense: 'Add Expense',
            viewAll: 'View all',
            noTransactions: 'No transactions this month',
            startTracking: 'Start tracking your finances',
            newTransaction: 'New Transaction',
            insight: 'Financial Insight',
            financialTip: 'Financial Tip',
            summary: {
                balanceMonth: 'Monthly Balance',
                income: 'Income',
                expenses: 'Expenses',
            },
            stats: {
                transactions: 'Transactions',
                savingsRate: 'Savings rate',
                categories: 'Categories',
                avgExpense: 'Avg. Expense',
            },
            charts: {
                expensesByCategory: 'Expenses by category',
                thisMonth: 'This month',
                recentTransactions: 'Recent transactions',
                viewAll: 'View all',
                noExpenses: 'No expenses this month',
                noTransactions: 'No transactions yet',
                addFirst: 'Add first transaction',
                transaction: 'Transaction',
            },
            quickActions: {
                expense: 'Expense',
                income: 'Income',
                budget: 'Budget',
                categories: 'Categories',
            },
        },
        transactions: {
            title: 'Transactions',
            registered: 'transactions recorded',
            filterByType: 'Filter by type',
            filterByCategory: 'Filter by category',
            allCategories: 'All categories',
            allTypes: 'All types',
            searchPlaceholder: 'Search transactions...',
            noTransactions: 'No transactions',
            noTransactionsDesc: 'Start by recording your first transaction',
            addFirst: 'Add first transaction',
            recurring: 'Recurring',
            once: 'One-time',
        },
        newTransaction: {
            titleNew: 'New Transaction',
            titleEdit: 'Edit Transaction',
            type: 'Transaction type',
            expense: 'Expense',
            income: 'Income',
            amount: 'Amount',
            amountPlaceholder: '0.00',
            category: 'Category',
            selectCategory: 'Select category',
            date: 'Date',
            description: 'Description',
            descriptionPlaceholder: 'What did you spend on?',
            notes: 'Notes (optional)',
            notesPlaceholder: 'Additional details...',
            attachment: 'Attach file',
            attachmentHint: 'Receipt, invoice, etc. (max 5MB)',
            recurring: 'Recurring transaction',
            recurringFreq: 'Frequency',
            weekly: 'Weekly',
            monthly: 'Monthly',
            none: 'Don\'t repeat',
            save: 'Save Transaction',
            saving: 'Saving...',
            successCreate: 'Transaction created successfully',
            successEdit: 'Transaction updated successfully',
            errorRequired: 'Please fill in all required fields',
        },
        budgets: {
            title: 'Budgets',
            monthlyBudget: 'Monthly Budget',
            budgeted: 'Budgeted',
            spent: 'Spent',
            available: 'Available',
            newBudget: 'New Budget',
            category: 'Category',
            budgetAmount: 'Budget amount',
            save: 'Save Budget',
            noBudgets: 'No budgets configured',
            noBudgetsDesc: 'Create a budget to control your spending by category',
            createFirst: 'Create first budget',
            overBudget: 'Over budget',
            onTrack: 'On track',
            warning: 'Warning',
        },
        categories: {
            title: 'Categories',
            subtitle: 'Manage your expense and income categories',
            expenseCategories: 'Expense Categories',
            incomeCategories: 'Income Categories',
            newCategory: 'New Category',
            editCategory: 'Edit Category',
            name: 'Category name',
            icon: 'Icon',
            color: 'Color',
            save: 'Save',
            delete: 'Delete category',
            deleteConfirm: 'Are you sure you want to delete this category?',
            noCategories: 'No custom categories',
            noCategoriesDesc: 'Create categories to organize your transactions',
        },
        goals: {
            title: 'Financial Goals',
            subtitle: 'Reach your savings objectives',
            newGoal: 'New Goal',
            editGoal: 'Edit Goal',
            name: 'Goal name',
            namePlaceholder: 'E.g: Vacation, Emergency fund...',
            targetAmount: 'Target amount',
            currentAmount: 'Current amount',
            deadline: 'Deadline',
            icon: 'Icon',
            color: 'Color',
            save: 'Save Goal',
            delete: 'Delete goal',
            deleteConfirm: 'Are you sure you want to delete this goal?',
            noGoals: 'No goals configured',
            noGoalsDesc: 'Set financial goals to motivate your savings',
            createFirst: 'Create first goal',
            progress: 'Progress',
            remaining: 'Remaining',
            daysLeft: 'days left',
            completed: 'Goal reached! üéâ',
            addMoney: 'Add funds',
            addAmount: 'Amount to add',
            onTrack: 'On track',
            behindSchedule: 'Behind',
            achieved: 'Achieved',
        },
        reports: {
            title: 'Reports',
            subtitle: 'Analyze your financial trends',
            monthlyComparison: 'Monthly Comparison',
            currentMonth: 'This month',
            previousMonth: 'Last month',
            income: 'Income',
            expenses: 'Expenses',
            balance: 'Balance',
            vsLastMonth: 'vs. last month',
            spendingTrend: 'Spending Trend',
            last6Months: 'Last 6 months',
            currencyConverter: 'Currency Converter',
            from: 'From',
            to: 'To',
            convert: 'Convert',
            result: 'Result',
            exportData: 'Export Data',
            exportCSV: 'Export CSV',
            exportDesc: 'Download your transactions as CSV',
            savingsCalc: 'Savings Calculator',
            initialAmount: 'Initial amount',
            monthlyContribution: 'Monthly contribution',
            annualRate: 'Annual rate (%)',
            years: 'Years',
            calculate: 'Calculate',
            futureValue: 'Future value',
            totalContributed: 'Total contributed',
            totalInterest: 'Interest earned',
        },
        profile: {
            title: 'Profile',
            personalInfo: 'Personal Information',
            editProfile: 'Edit Profile',
            editName: 'Name',
            editNamePlaceholder: 'Your name',
            accountActive: 'Active account',
            appearance: 'Appearance',
            darkMode: 'Dark mode',
            darkModeDesc: 'Change the app appearance',
            language: 'Language',
            preferences: 'Preferences',
            currency: 'Currency',
            currencyDesc: 'Default currency',
            notifications: 'Notifications',
            notifDesc: 'Alerts and reminders',
            notifOn: 'Notifications enabled',
            notifOff: 'Notifications disabled',
            reminders: 'Reminders',
            remindersDesc: 'Budget alerts',
            remindersOn: 'Reminders enabled',
            remindersOff: 'Reminders disabled',
            currencyUpdated: 'Currency updated',
            dataManagement: 'Data',
            exportData: 'Export data',
            exportDesc: 'Download as JSON',
            syncNow: 'Sync now',
            syncDesc: 'Sync with the cloud',
            clearCache: 'Clear cache',
            clearCacheDesc: 'Free local space',
            clearCacheConfirm: 'Are you sure? All locally saved data will be deleted and the page will reload.',
            about: 'About',
            version: 'Version',
            developer: 'Developer',
            madeWith: 'Made with ‚ù§Ô∏è in Spain',
            logout: 'Log Out',
            logoutConfirm: 'Log out?',
            logoutDesc: 'You can log back in at any time',
            deleteAccount: 'Delete account',
            deleteAccountDesc: 'This action cannot be undone',
            deleteAccountConfirm: 'Delete your account?',
            deleteAccountWarning: 'All your data will be permanently deleted.',
            deleteAccountTyping: 'Type DELETE to confirm',
            deleteAccountPlaceholder: 'DELETE',
            deleteAccountKeyword: 'DELETE',
            deleting: 'Deleting account...',
            profileUpdated: 'Profile updated',
            profileError: 'Error updating profile',
            exportSuccess: 'Data exported successfully',
            exportError: 'Error exporting data',
            syncSuccess: 'Sync completed',
            syncError: 'Sync error',
            cacheSuccess: 'Cache cleared. Reloading...',
            cacheError: 'Error clearing cache',
        },
        months: [
            'January', 'February', 'March', 'April', 'May', 'June',
            'July', 'August', 'September', 'October', 'November', 'December'
        ],
        notFound: {
            title: 'Page not found',
            message: 'The page you are looking for does not exist',
            backHome: 'Go back home',
        },
        toast: {
            saved: 'Saved successfully',
            deleted: 'Deleted successfully',
            error: 'An error occurred',
            copied: 'Copied to clipboard',
            syncComplete: 'Sync completed',
            syncError: 'Sync error',
            cacheCleared: 'Cache cleared. Reloading...',
            exported: 'Data exported',
            goalAdded: 'Funds added to goal',
        },
        insights: {
            savingWell: 'Great! You\'re saving {pct}% of your income this month.',
            spendingHigh: 'Watch out: you\'ve spent {pct}% of your income. Try cutting back.',
            noIncome: 'You haven\'t recorded any income this month yet.',
            topCategory: 'Your biggest expense is "{cat}" at {amount}.',
            underBudget: 'Well done! You\'re under budget in {count} categories.',
            overBudget: 'You\'re over budget in {count} categories. Review your spending.',
            goalClose: 'Almost there! You need {amount} more for your "{name}" goal.',
            keepItUp: 'Keep it up! You\'re on a great savings track.',
        },
    },

    pt: {
        nav: {
            dashboard: 'Painel',
            dashboardShort: 'In√≠cio',
            transactions: 'Transa√ß√µes',
            transactionsShort: 'Trans.',
            budgets: 'Or√ßamentos',
            budgetsShort: 'Or√ßam.',
            categories: 'Categorias',
            categoriesShort: 'Categ.',
            goals: 'Metas',
            goalsShort: 'Metas',
            reports: 'Relat√≥rios',
            reportsShort: 'Relat.',
            profile: 'Perfil',
            profileShort: 'Perfil',
            newTransaction: 'Nova Transa√ß√£o',
            logout: 'Sair',
            logoutConfirm: 'Tem certeza que deseja sair?',
            logoutDesc: 'Sua sess√£o atual ser√° encerrada.',
            cancel: 'Cancelar',
            confirm: 'Confirmar',
            more: 'Mais',
            menu: 'Menu',
        },
        common: {
            save: 'Salvar',
            cancel: 'Cancelar',
            delete: 'Excluir',
            edit: 'Editar',
            create: 'Criar',
            close: 'Fechar',
            confirm: 'Confirmar',
            loading: 'Carregando...',
            search: 'Buscar...',
            noResults: 'Sem resultados',
            all: 'Todos',
            income: 'Receita',
            expense: 'Despesa',
            amount: 'Valor',
            date: 'Data',
            description: 'Descri√ß√£o',
            category: 'Categoria',
            name: 'Nome',
            type: 'Tipo',
            actions: 'A√ß√µes',
            back: 'Voltar',
            next: 'Pr√≥ximo',
            yes: 'Sim',
            no: 'N√£o',
            of: 'de',
            month: 'M√™s',
            year: 'Ano',
            today: 'Hoje',
            yesterday: 'Ontem',
            online: 'Online',
            offline: 'Offline',
        },
        login: {
            title: 'Bem-vindo ao FinanzaPro',
            subtitle: 'Gerencie suas finan√ßas com intelig√™ncia',
            email: 'E-mail',
            password: 'Senha',
            loginBtn: 'Entrar',
            registerBtn: 'Criar Conta',
            loginTab: 'Entrar',
            registerTab: 'Registrar',
            forgotPassword: 'Esqueceu sua senha?',
            orContinueWith: 'Ou continue com',
            google: 'Google',
            fullName: 'Nome completo',
            confirmPassword: 'Confirmar senha',
            passwordStrength: 'For√ßa da senha',
            weak: 'Fraca',
            medium: 'M√©dia',
            strong: 'Forte',
            termsAgree: 'Ao se registrar, voc√™ concorda com nossos',
            terms: 'Termos de Servi√ßo',
            and: 'e',
            privacy: 'Pol√≠tica de Privacidade',
            error: {
                invalidEmail: 'E-mail inv√°lido',
                shortPassword: 'A senha deve ter pelo menos 6 caracteres',
                passwordMismatch: 'As senhas n√£o coincidem',
                generic: 'Falha no login. Verifique suas credenciais.',
                registerFailed: 'Falha no registro. Tente novamente.',
            },
            feature1: 'Controle financeiro total',
            feature2: 'Or√ßamentos inteligentes',
            feature3: 'Relat√≥rios detalhados',
            feature1Desc: 'Registre receitas e despesas facilmente',
            feature2Desc: 'Defina limites e alcance suas metas',
            feature3Desc: 'Visualize suas tend√™ncias financeiras',
        },
        dashboard: {
            greeting: {
                morning: 'Bom dia',
                afternoon: 'Boa tarde',
                evening: 'Boa noite',
            },
            balance: 'Saldo mensal',
            income: 'Receitas',
            expenses: 'Despesas',
            savings: 'Economia',
            savingsRate: 'Taxa de economia',
            positive: 'Positivo',
            negative: 'Negativo',
            recentTransactions: 'Transa√ß√µes recentes',
            topCategories: 'Principais categorias',
            quickActions: 'A√ß√µes r√°pidas',
            addIncome: 'Adicionar Receita',
            addExpense: 'Adicionar Despesa',
            viewAll: 'Ver tudo',
            noTransactions: 'Nenhuma transa√ß√£o este m√™s',
            startTracking: 'Comece a registrar suas finan√ßas',
            newTransaction: 'Nova Transa√ß√£o',
            insight: 'Insight Financeiro',
            financialTip: 'Dica Financeira',
            summary: {
                balanceMonth: 'Saldo mensal',
                income: 'Receitas',
                expenses: 'Despesas',
            },
            stats: {
                transactions: 'Transa√ß√µes',
                savingsRate: 'Taxa de economia',
                categories: 'Categorias',
                avgExpense: 'Despesa m√©dia',
            },
            charts: {
                expensesByCategory: 'Despesas por categoria',
                thisMonth: 'Este m√™s',
                recentTransactions: 'Transa√ß√µes recentes',
                viewAll: 'Ver todas',
                noExpenses: 'Sem despesas este m√™s',
                noTransactions: 'Nenhuma transa√ß√£o ainda',
                addFirst: 'Adicionar primeira transa√ß√£o',
                transaction: 'Transa√ß√£o',
            },
            quickActions: {
                expense: 'Despesa',
                income: 'Receita',
                budget: 'Or√ßamento',
                categories: 'Categorias',
            },
        },
        transactions: {
            title: 'Transa√ß√µes',
            registered: 'transa√ß√µes registradas',
            filterByType: 'Filtrar por tipo',
            filterByCategory: 'Filtrar por categoria',
            allCategories: 'Todas as categorias',
            allTypes: 'Todos os tipos',
            searchPlaceholder: 'Buscar transa√ß√µes...',
            noTransactions: 'Nenhuma transa√ß√£o',
            noTransactionsDesc: 'Comece registrando sua primeira transa√ß√£o',
            addFirst: 'Adicionar primeira transa√ß√£o',
            recurring: 'Recorrente',
            once: '√önica vez',
        },
        newTransaction: {
            titleNew: 'Nova Transa√ß√£o',
            titleEdit: 'Editar Transa√ß√£o',
            type: 'Tipo de transa√ß√£o',
            expense: 'Despesa',
            income: 'Receita',
            amount: 'Valor',
            amountPlaceholder: '0,00',
            category: 'Categoria',
            selectCategory: 'Selecione a categoria',
            date: 'Data',
            description: 'Descri√ß√£o',
            descriptionPlaceholder: 'Com o que voc√™ gastou?',
            notes: 'Notas (opcional)',
            notesPlaceholder: 'Detalhes adicionais...',
            attachment: 'Anexar arquivo',
            attachmentHint: 'Recibo, fatura, etc. (m√°x 5MB)',
            recurring: 'Transa√ß√£o recorrente',
            recurringFreq: 'Frequ√™ncia',
            weekly: 'Semanal',
            monthly: 'Mensal',
            none: 'N√£o repetir',
            save: 'Salvar Transa√ß√£o',
            saving: 'Salvando...',
            successCreate: 'Transa√ß√£o criada com sucesso',
            successEdit: 'Transa√ß√£o atualizada com sucesso',
            errorRequired: 'Por favor, preencha todos os campos obrigat√≥rios',
        },
        budgets: {
            title: 'Or√ßamentos',
            monthlyBudget: 'Or√ßamento Mensal',
            budgeted: 'Or√ßado',
            spent: 'Gasto',
            available: 'Dispon√≠vel',
            newBudget: 'Novo Or√ßamento',
            category: 'Categoria',
            budgetAmount: 'Valor do or√ßamento',
            save: 'Salvar Or√ßamento',
            noBudgets: 'Nenhum or√ßamento configurado',
            noBudgetsDesc: 'Crie um or√ßamento para controlar seus gastos por categoria',
            createFirst: 'Criar primeiro or√ßamento',
            overBudget: 'Estourado',
            onTrack: 'No controle',
            warning: 'Aten√ß√£o',
        },
        categories: {
            title: 'Categorias',
            subtitle: 'Gerencie suas categorias de despesas e receitas',
            expenseCategories: 'Categorias de Despesas',
            incomeCategories: 'Categorias de Receitas',
            newCategory: 'Nova Categoria',
            editCategory: 'Editar Categoria',
            name: 'Nome da categoria',
            icon: '√çcone',
            color: 'Cor',
            save: 'Salvar',
            delete: 'Excluir categoria',
            deleteConfirm: 'Tem certeza que deseja excluir esta categoria?',
            noCategories: 'Nenhuma categoria personalizada',
            noCategoriesDesc: 'Crie categorias para organizar suas transa√ß√µes',
        },
        goals: {
            title: 'Metas Financeiras',
            subtitle: 'Alcance seus objetivos de economia',
            newGoal: 'Nova Meta',
            editGoal: 'Editar Meta',
            name: 'Nome da meta',
            namePlaceholder: 'Ex: F√©rias, Fundo de emerg√™ncia...',
            targetAmount: 'Valor alvo',
            currentAmount: 'Valor atual',
            deadline: 'Prazo',
            icon: '√çcone',
            color: 'Cor',
            save: 'Salvar Meta',
            delete: 'Excluir meta',
            deleteConfirm: 'Tem certeza que deseja excluir esta meta?',
            noGoals: 'Nenhuma meta configurada',
            noGoalsDesc: 'Defina metas financeiras para motivar sua economia',
            createFirst: 'Criar primeira meta',
            progress: 'Progresso',
            remaining: 'Faltam',
            daysLeft: 'dias restantes',
            completed: 'Meta alcan√ßada! üéâ',
            addMoney: 'Adicionar fundos',
            addAmount: 'Valor a adicionar',
            onTrack: 'No caminho',
            behindSchedule: 'Atrasada',
            achieved: 'Alcan√ßada',
        },
        reports: {
            title: 'Relat√≥rios',
            subtitle: 'Analise suas tend√™ncias financeiras',
            monthlyComparison: 'Compara√ß√£o Mensual',
            currentMonth: 'Este m√™s',
            previousMonth: 'M√™s anterior',
            income: 'Receitas',
            expenses: 'Despesas',
            balance: 'Saldo',
            vsLastMonth: 'vs. m√™s anterior',
            spendingTrend: 'Tend√™ncia de Gastos',
            last6Months: '√öltimos 6 meses',
            currencyConverter: 'Conversor de Moedas',
            from: 'De',
            to: 'Para',
            convert: 'Converter',
            result: 'Resultado',
            exportData: 'Exportar Dados',
            exportCSV: 'Exportar CSV',
            exportDesc: 'Baixe suas transa√ß√µes como CSV',
            savingsCalc: 'Calculadora de Economia',
            initialAmount: 'Valor inicial',
            monthlyContribution: 'Contribui√ß√£o mensal',
            annualRate: 'Taxa anual (%)',
            years: 'Anos',
            calculate: 'Calcular',
            futureValue: 'Valor futuro',
            totalContributed: 'Total contribu√≠do',
            totalInterest: 'Juros ganhos',
        },
        profile: {
            title: 'Perfil',
            personalInfo: 'Informa√ß√µes Pessoais',
            editProfile: 'Editar Perfil',
            editName: 'Nome',
            editNamePlaceholder: 'Seu nome',
            accountActive: 'Conta ativa',
            appearance: 'Apar√™ncia',
            darkMode: 'Modo escuro',
            darkModeDesc: 'Alterar a apar√™ncia do app',
            language: 'Idioma',
            preferences: 'Prefer√™ncias',
            currency: 'Moeda',
            currencyDesc: 'Moeda padr√£o',
            notifications: 'Notifica√ß√µes',
            notifDesc: 'Alertas e lembretes',
            notifOn: 'Notifica√ß√µes ativadas',
            notifOff: 'Notifica√ß√µes desativadas',
            reminders: 'Lembretes',
            remindersDesc: 'Alertas de or√ßamento',
            remindersOn: 'Lembretes ativados',
            remindersOff: 'Lembretes desativados',
            currencyUpdated: 'Moeda atualizada',
            dataManagement: 'Dados',
            exportData: 'Exportar dados',
            exportDesc: 'Baixar como JSON',
            syncNow: 'Sincronizar agora',
            syncDesc: 'Sincronizar com a nuvem',
            clearCache: 'Limpar cache',
            clearCacheDesc: 'Liberar espa√ßo local',
            clearCacheConfirm: 'Tem certeza? Todos os dados salvos localmente ser√£o exclu√≠dos e a p√°gina ser√° recarregada.',
            about: 'Sobre',
            version: 'Vers√£o',
            developer: 'Desenvolvedor',
            madeWith: 'Feito com ‚ù§Ô∏è na Espanha',
            logout: 'Sair',
            logoutConfirm: 'Sair?',
            logoutDesc: 'Voc√™ pode entrar novamente a qualquer momento',
            deleteAccount: 'Excluir conta',
            deleteAccountDesc: 'Esta a√ß√£o n√£o pode ser desfeita',
            deleteAccountConfirm: 'Excluir sua conta?',
            deleteAccountWarning: 'Todos os seus dados ser√£o exclu√≠dos permanentemente.',
            deleteAccountTyping: 'Digite DELETE para confirmar',
            deleteAccountPlaceholder: 'DELETE',
            deleteAccountKeyword: 'DELETE',
            deleting: 'Excluindo conta...',
            profileUpdated: 'Perfil atualizado',
            profileError: 'Erro ao atualizar perfil',
            exportSuccess: 'Dados exportados com sucesso',
            exportError: 'Erro ao exportar dados',
            syncSuccess: 'Sincroniza√ß√£o conclu√≠da',
            syncError: 'Erro de sincroniza√ß√£o',
            cacheSuccess: 'Cache limpo. Recarregando...',
            cacheError: 'Erro ao limpar cache',
        },
        months: [
            'Janeiro', 'Fevereiro', 'Mar√ßo', 'Abril', 'Maio', 'Junho',
            'Julho', 'Agosto', 'Setembro', 'Outubro', 'Novembro', 'Dezembro'
        ],
        notFound: {
            title: 'P√°gina n√£o encontrada',
            message: 'A p√°gina que voc√™ est√° procurando n√£o existe',
            backHome: 'Voltar ao in√≠cio',
        },
        toast: {
            saved: 'Salvo com sucesso',
            deleted: 'Exclu√≠do com sucesso',
            error: 'Ocorreu um erro',
            copied: 'Copiado para a √°rea de transfer√™ncia',
            syncComplete: 'Sincroniza√ß√£o conclu√≠da',
            syncError: 'Erro de sincroniza√ß√£o',
            cacheCleared: 'Cache limpo. Recarregando...',
            exported: 'Dados exportados',
            goalAdded: 'Fundos adicionados √† meta',
        },
        insights: {
            savingWell: '√ìtimo! Voc√™ est√° economizando {pct}% da sua renda este m√™s.',
            spendingHigh: 'Cuidado: voc√™ gastou {pct}% da sua renda. Tente reduzir gastos.',
            noIncome: 'Voc√™ ainda n√£o registrou nenhuma receita este m√™s.',
            topCategory: 'Sua maior despesa √© em "{cat}" com {amount}.',
            underBudget: 'Muito bem! Voc√™ est√° abaixo do or√ßamento em {count} categorias.',
            overBudget: 'Voc√™ estourou o or√ßamento em {count} categorias. Revise seus gastos.',
            goalClose: 'Quase l√°! Faltam {amount} para sua meta "{name}".',
            keepItUp: 'Continue assim! Voc√™ est√° em um √≥timo caminho de economia.',
        },
    },
}

let currentLang = localStorage.getItem('finanza_lang') || 'es'

/**
 * Initialize i18n system
 */
export function initI18n() {
    const savedLang = localStorage.getItem('finanza_lang')
    if (savedLang && translations[savedLang]) {
        currentLang = savedLang
    } else {
        // Detect browser language
        const browserLang = navigator.language.split('-')[0]
        if (translations[browserLang]) {
            currentLang = browserLang
        }
    }
    document.documentElement.lang = currentLang
    updateDOMIds()
}

/**
 * Get translation for key
 * @param {string} key - Dot notation key (e.g. 'common.save')
 * @param {Object} params - Parameters to replace in string
 * @returns {string} Translated string
 */
export function t(key, params = {}) {
    const keys = key.split('.')
    let value = translations[currentLang]

    for (const k of keys) {
        if (value && value[k]) {
            value = value[k]
        } else {
            console.warn(`Translation missing: ${key} (${currentLang})`)
            return key
        }
    }

    if (typeof value === 'string') {
        // Replace params like {name}
        return value.replace(/{(\w+)}/g, (match, p1) => {
            return params[p1] !== undefined ? params[p1] : match
        })
    }

    return value
}

/**
 * Change current language
 * @param {string} langCode - 'es', 'en', 'pt'
 */
export function setLang(langCode) {
    if (translations[langCode]) {
        currentLang = langCode
        localStorage.setItem('finanza_lang', langCode)
        document.documentElement.lang = langCode
        // Reload page to apply changes everywhere
        window.location.reload()
    }
}

/**
 * Get current language code
 * @returns {string}
 */
export function getCurrentLang() {
    return currentLang
}

/**
 * Get supported languages with display names and updated SVG flags
 * @returns {Array<{code: string, name: string, flag: string}>}
 */
export function getSupportedLangs() {
    return [
        {
            code: 'es',
            name: 'Espa√±ol',
            flag: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 480" class="w-full h-full object-cover rounded-sm"><defs><clipPath id="a"><path fill-opacity=".7" d="M-85.333 0h682.67v512h-682.67z"/></clipPath></defs><g clip-path="url(#a)" transform="translate(80) scale(.94)"><path fill="#c60b1e" d="M-170.667 0h853.33v512h-853.33z"/><path fill="#ffc400" d="M-170.667 128h853.33v256h-853.33z"/></g></svg>`
        },
        {
            code: 'en',
            name: 'English',
            flag: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 480" class="w-full h-full object-cover rounded-sm"><path fill="#bd3d44" d="M0 0h640v480H0"/><path stroke="#fff" stroke-width="37" d="M0 55.3h640M0 129h640M0 202.8h640M0 276.5h640M0 350.3h640M0 424h640"/><path fill="#192f5d" d="M0 0h296v258H0"/><marker id="a" markerHeight="30" markerWidth="30"><path fill="#fff" d="m15 0 9.2 28.5L0 10.7h30L5.8 28.5"/></marker><path fill="none" marker-mid="url(#a)" d="M15 15h266M15 61h266M15 107h266M15 153h266M15 199h266M15 245h266M37 38h222M37 84h222M37 130h222M37 176h222M37 222h222"/></svg>`
        },
        {
            code: 'pt',
            name: 'Portugu√™s',
            flag: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 480" class="w-full h-full object-cover rounded-sm"><path fill="#006600" d="M0 0h240v480H0"/><path fill="#f00" d="M240 0h400v480H240"/><path fill="#ffc400" d="M360 240a120 120 0 1 1-240 0 120 120 0 0 1 240 0" transform="translate(-40)"/><path fill="#fff" d="M220 188h20v20h-20zm60 0h20v20h-20zM220 271h20v20h-20zm60 0h20v20h-20zm-30-58h20v55h-20z"/><path fill="#006600" d="M225 193h10v10h-10zm60 0h10v10h-10zM225 276h10v10h-10zm60 0h10v10h-10zm-30-58h10v55h-10z"/></svg>`
        },
    ]
}

/**
 * Get month name in current language
 * @param {number} monthIndex - 0-based month index (0=Jan, 11=Dec)
 * @returns {string}
 */
export function getMonthName(monthIndex) {
    const months = translations[currentLang]?.months || translations.es.months
    return months[monthIndex % 12]
}

/**
 * Update DOM elements with data-i18n attribute
 */
function updateDOMIds() {
    // This is optional if we rely on re-rendering views
    // But good for static parts
}
